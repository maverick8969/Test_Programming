; PlatformIO Project Configuration File
; Peristaltic Pump Control System
; ESP32 with Arduino Framework (simpler than ESP-IDF)

[platformio]
default_envs = test_00_blink

; Common settings for all environments
[env]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200
monitor_filters =
    esp32_exception_decoder
    colorize
upload_speed = 921600

; Libraries
lib_deps =
    marcoschwartz/LiquidCrystal_I2C@^1.1.4
    fastled/FastLED@^3.7.0

; ============================================================================
; PHASE 1: BASIC HARDWARE TESTING
; ============================================================================

; Test 00: Blink and Serial Output
[env:test_00_blink]
build_src_filter = +<test_00_blink.cpp> +<pin_definitions.h>

; Test 01: Push Buttons
[env:test_01_buttons]
build_src_filter = +<test_01_buttons.cpp> +<pin_definitions.h>

; Test 02: Rotary Encoder
[env:test_02_encoder]
build_src_filter = +<test_02_encoder.cpp> +<pin_definitions.h>

; ============================================================================
; PHASE 2: COMMUNICATION PERIPHERALS
; ============================================================================

; Test 03: I2C Scanner
[env:test_03_i2c_scanner]
build_src_filter = +<test_03_i2c_scanner.cpp> +<pin_definitions.h>

; Test 04: LCD Display
[env:test_04_lcd]
build_src_filter = +<test_04_lcd.cpp> +<pin_definitions.h>

; Test 05: WS2812B LED Strips
[env:test_05_leds]
build_src_filter = +<test_05_leds.cpp> +<pin_definitions.h>

; Test 06: Digital Scale (RS232)
[env:test_06_scale]
build_src_filter = +<test_06_scale.cpp> +<pin_definitions.h>

; ============================================================================
; PHASE 3: MOTOR CONTROL COMMUNICATION
; ============================================================================

; Test 07: RS485 Communication
[env:test_07_rs485]
build_src_filter = +<test_07_rs485.cpp> +<pin_definitions.h>

; Test 08: Direct UART Communication (no RS485 transceivers)
; Uses ESP32 Dev Module
[env:test_08_uart]
platform = espressif32
board = esp32dev
build_src_filter = +<test_08_uart.cpp> +<pin_definitions.h>

; ============================================================================
; PHASE 4: INTEGRATED UART COMMUNICATION
; ============================================================================

; Test 09: UART with Button Control Integration
[env:test_09_uart_buttons]
build_src_filter = +<test_09_uart_buttons.cpp> +<pin_definitions.h>

; Test 10: UART with LCD Status Display
[env:test_10_uart_lcd]
build_src_filter = +<test_10_uart_lcd.cpp> +<pin_definitions.h>

; Test 11: UART with LED Visual Feedback
[env:test_11_uart_leds]
build_src_filter = +<test_11_uart_leds.cpp> +<pin_definitions.h>

; ============================================================================
; PHASE 5: PUMP CONTROL AND DISPENSING
; ============================================================================

; Test 12: Single Pump Controlled Flow Rate
[env:test_12_single_pump]
build_src_filter = +<test_12_single_pump.cpp> +<pin_definitions.h>

; Test 13: Multi-Pump Sequential Operation
[env:test_13_multi_sequential]
build_src_filter = +<test_13_multi_sequential.cpp> +<pin_definitions.h>

; Test 14: Multi-Pump Simultaneous Operation
[env:test_14_multi_simultaneous]
build_src_filter = +<test_14_multi_simultaneous.cpp> +<pin_definitions.h>

; Test 15: Scale Integration (Weight-Based Dispensing)
[env:test_15_scale_integration]
build_src_filter = +<test_15_scale_integration.cpp> +<pin_definitions.h>

; Test 16: Recipe/Formula System
[env:test_16_recipe_system]
build_src_filter = +<test_16_recipe_system.cpp> +<pin_definitions.h>

; ============================================================================
; PHASE 6: SAFETY AND MONITORING
; ============================================================================

; Test 17: Emergency Stop and Safety Features
[env:test_17_safety_features]
build_src_filter = +<test_17_safety_features.cpp> +<pin_definitions.h>

; Test 18: Data Logging and Monitoring
[env:test_18_data_logging]
build_src_filter = +<test_18_data_logging.cpp> +<pin_definitions.h>

; ============================================================================
; PHASE 7: FULL SYSTEM INTEGRATION
; ============================================================================

; Test 19: Full System Integration Test
[env:test_19_full_integration]
build_src_filter = +<test_19_full_integration.cpp> +<pin_definitions.h>
